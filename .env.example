# ==============================================================================
# Azure Cortex Cloud Onboarding - Environment Configuration
# ==============================================================================
# Copy this file to .env and update with your actual values
# NEVER commit the .env file to version control!

# ==============================================================================
# Server Configuration
# ==============================================================================

# Port for the Express server (default: 3001)
PORT=3001

# Node environment (development, production)
# In development mode, all localhost/127.0.0.1 origins are allowed (wildcard)
# In production mode, only ALLOWED_ORIGINS are permitted
NODE_ENV=development

# ==============================================================================
# Security Configuration
# ==============================================================================

# Enable JWT authentication (default: false for local development)
# Set to 'true' in production environments
AUTH_ENABLED=false

# JWT Secret Key (REQUIRED if AUTH_ENABLED=true)
# Generate a strong random key: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-secret-key-change-in-production

# JWT Token Expiry (default: 24h)
# Examples: 15m, 1h, 7d, 30d
JWT_EXPIRY=24h

# Admin credentials for JWT authentication (REQUIRED if AUTH_ENABLED=true)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=changeme

# ==============================================================================
# CORS Configuration
# ==============================================================================

# Allowed origins for CORS (comma-separated)
#
# DEVELOPMENT MODE (NODE_ENV=development):
#   - All localhost and 127.0.0.1 origins with ANY port are automatically allowed
#   - Examples: http://localhost:3000, http://localhost:5174, http://127.0.0.1:8080
#   - ALLOWED_ORIGINS still works but is optional for localhost
#   - Useful for working with different dev servers (Vite, React, etc.)
#
# PRODUCTION MODE (NODE_ENV=production):
#   - ONLY explicitly listed origins in ALLOWED_ORIGINS are permitted
#   - Wildcard support is DISABLED for security
#   - You MUST list all production domains here
#
# Default: http://localhost:3001,http://127.0.0.1:3001
# Production example: https://yourdomain.com,https://admin.yourdomain.com
ALLOWED_ORIGINS=http://localhost:3001,http://127.0.0.1:3001

# ==============================================================================
# Rate Limiting Configuration
# ==============================================================================

# These are configured in code with sensible defaults:
# - API endpoints: 100 requests per 15 minutes per IP
# - Auth endpoint: 5 requests per 15 minutes per IP
# Modify server.js to adjust these limits

# ==============================================================================
# Azure Configuration (Optional - can be provided via UI)
# ==============================================================================

# These can also be provided through the web UI form
# Uncomment and set if you want to use environment variables instead

# AZURE_SUBSCRIPTION_ID=your-subscription-id
# AZURE_TENANT_ID=your-tenant-id
# CORTEX_API_URL=https://api.prismacloud.io
# CORTEX_ACCESS_KEY=your-cortex-access-key
# CORTEX_SECRET_KEY=your-cortex-secret-key

# ==============================================================================
# Notes
# ==============================================================================

# 1. For local development, you can leave AUTH_ENABLED=false and NODE_ENV=development
# 2. For production deployment, always set AUTH_ENABLED=true and NODE_ENV=production
# 3. Generate strong random values for JWT_SECRET using:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# 4. Change default admin credentials before production use
# 5. Add your production domain to ALLOWED_ORIGINS
# 6. In development mode, all localhost ports are allowed automatically (wildcard CORS)
# 7. In production mode, wildcard support is disabled for security
# 8. Keep this .env file secure and never commit it to Git
